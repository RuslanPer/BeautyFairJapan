"use strict";const menuParents=document.querySelectorAll(".menu-categories__item"),submenuItems=document.querySelectorAll(".submenu-categories");for(let e=0;e<menuParents.length;e++){const t=menuParents[e];t.addEventListener("click",(()=>{const e=parseInt(t.getAttribute("data-item"));submenuItems[e].classList.remove("hidden"),submenuItems[e].classList.add("show")}))}function check(e,t){if(1==t)for(let t=0;t<e.length;t++)e[t].checked=!0;else for(let t=0;t<e.length;t++)e[t].checked=!1}function takeNumbersGoods(e){const t=e.querySelectorAll("ul li"),s=e.dataset.item;let o=0;t.forEach((e=>{if(e.querySelector("input").checked){const t=parseInt(e.querySelector("span").dataset.count);o+=t}})),e.classList.remove("show"),e.classList.add("hidden"),menuParents.forEach((e=>{if(e.dataset.item==s){const t=e.querySelector("span");t.innerHTML=0!==o?`(${o})`:""}}))}function resetCategories(){const e=document.querySelectorAll(".submenu-categories__item input"),t=document.querySelectorAll(".filters-certificate__checkbox");e.forEach((e=>{e.checked=!1})),t[0].checked=!0,menuParents.forEach((e=>{e.querySelector("span").innerHTML=""}))}const searchButton=document.querySelector(".search-field__submit"),serchResultsNull=document.querySelector(".search-results__null"),serchResults=document.querySelector(".search-results__content"),preloader=document.querySelector(".preloader");searchButton.addEventListener("click",(()=>{preloader.classList.remove("active"),serchResults.classList.remove("active"),serchResultsNull.classList.add("active")}));const data=[{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"},{title:"Cыворотка крем для рук",company:"Shiseido",link:"#"}];class Product{constructor(e){this.wrapper=document.querySelector(".search-results__items"),this.data=e,this.wrapper.append(this.generateBlock())}generateBlock(){const e=document.createElement("div");e.classList.add("search-results__item","search-item");const t=document.createElement("h3");t.classList.add("search-item__title"),t.innerText=`${this.data.title}`;const s=document.createElement("p");s.classList.add("search-item__text"),s.innerText=`${this.data.company}`;const o=document.createElement("a");return o.classList.add("search-item__btn","btn","btn-red"),o.innerText="Подробнее",o.href=`${this.data.link}`,e.append(t),e.append(s),e.append(o),e}}const moreProductsButton=document.querySelector(".search-results__btn"),productsItemsParent=document.querySelector(".search-results__items");let productsItems=productsItemsParent.childNodes;for(let e=0;e<4;e++)data.length<=productsItems.length?moreProductsButton.classList.add("hidden"):new Product(data[e]);moreProductsButton.addEventListener("click",(()=>{for(let e=0;e<8;e++)data.length<=productsItems.length?moreProductsButton.classList.add("hidden"):new Product(data[e])}));const showCatTrigger=document.querySelector("[data-show]"),allCats=document.querySelectorAll("[data-cat]"),allBrands=document.querySelectorAll("[data-brand]");function takeSelectedCategories(e){let t=[];return e.forEach((e=>{const s=e.querySelector("label").textContent;e.querySelector("input").checked&&t.push(s)})),t.length>0&&console.log(t),t}function takeSelectedBrands(e){let t=[];return e.forEach((e=>{const s=e.querySelector("label").textContent;e.querySelector("input").checked&&t.push(s)})),t.length>0&&console.log(t),t}showCatTrigger.addEventListener("click",(()=>{takeSelectedCategories(allCats),takeSelectedBrands(allBrands)}));const takeTextTrigger=document.querySelector(".search-field__submit"),searchField=document.querySelector(".search-field__wrap input");takeTextTrigger.addEventListener("click",(()=>{console.log(searchField.value)}));const modalTrigger=document.querySelectorAll("[data-modal]"),modal=document.querySelector(".modal"),modalCloseBtn=document.querySelectorAll("[data-close]"),modalContent=document.querySelector(".filters__menu");function closeModal(){submenuItems.forEach((e=>{e.classList.remove("hidden")})),modalContent.classList.remove("show"),modalContent.classList.add("hidden"),modal.classList.remove("show"),modal.classList.add("hidden"),document.body.style.overflow=""}modalTrigger.forEach((e=>{e.addEventListener("click",(()=>{modal.classList.remove("hidden"),modal.classList.add("show"),modalContent.classList.remove("hidden"),modalContent.classList.add("show"),document.body.style.overflow="hidden"}))})),modalCloseBtn.forEach((e=>{e.addEventListener("click",closeModal)})),modal.addEventListener("click",(e=>{e.target===modal&&closeModal()}));